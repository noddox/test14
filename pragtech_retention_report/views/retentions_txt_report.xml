<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_template_txt_retention"><t t-foreach="docs" t-as="doc"><t t-foreach="doc.ret_line_ids" t-as="line"><t t-esc="doc.company_id.vat"/><t t-esc="'\t'"/><t t-esc="line.move_id.invoice_date.strftime('%Y%m')"/><t t-esc="'\t'"/><t t-esc="line.move_id.invoice_date.strftime('%Y-%m-%d')"/><t t-esc="'\t'"/><t t-if="doc.partner_type == 'customer'">C</t><t t-if="doc.partner_type == 'supplier'">V</t><t t-esc="'\t'"/><t t-if="line.move_id.move_type == 'in_invoice'">01</t><t t-if="line.move_id.move_type == 'out_invoice'">00</t><t t-esc="'\t'"/><t t-esc="doc.partner_id.vat"/><t t-esc="'\t'"/><t t-esc="line.move_id.name"/><t t-esc="'\t'"/><t t-esc="line.move_id.cnt_num"/><t t-esc="'\t'"/><t t-esc="line.move_id.amount_total" t-options='{"widget": "float", "precision": 2}'/><t t-esc="'\t'"/><t t-esc="line.taxed_amount" t-options='{"widget": "float", "precision": 2}'/><t t-esc="'\t'"/><t t-esc="line.ret_amount" t-options='{"widget": "float", "precision": 2}'/><t t-esc="'\t'"/>0<t t-esc="'\t'"/><t t-esc="doc.ret_number"/><t t-esc="'\t'"/><t t-esc="line.move_id.amount_total - line.taxed_amount" t-options='{"widget": "float", "precision": 2}'/><t t-esc="'\t'"/><t t-esc="line.ret_percent" t-options='{"widget": "float", "precision": 2}'/><t t-esc="'\t'"/></t>0.00<t t-esc="'\n'"/></t>
    </template>

    <record id="action_txt_report_retentions" model="ir.actions.report">
        <field name="name">Retentions Text</field>
        <field name="model">retention.retentions</field>
        <field name="report_type">qweb-text</field>
        <field name="report_name">pragtech_retention_report.report_template_txt_retention</field>
        <field name="report_file">pragtech_retention_report.report_template_txt_retention</field>
        <field name="print_report_name">(object.name)</field>
    </record>
</odoo>
